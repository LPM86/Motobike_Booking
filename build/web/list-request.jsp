<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Ogani Template">
        <meta name="keywords" content="Ogani, unica, creative, html">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Coza store </title>

        <!-- Google Font -->
        <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap" rel="stylesheet">

        <!-- Css Styles -->
        <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">
        <link rel="stylesheet" href="css/font-awesome.min.css" type="text/css">
        <link rel="stylesheet" href="css/elegant-icons.css" type="text/css">
        <link rel="stylesheet" href="css/nice-select.css" type="text/css">
        <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css">
        <link rel="stylesheet" href="css/owl.carousel.min.css" type="text/css">
        <link rel="stylesheet" href="css/slicknav.min.css" type="text/css">
        <link rel="stylesheet" href="css/style.css" type="text/css">

    <head>
        <title>Home</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--===============================================================================================-->	
        <link rel="icon" type="image/png" href="images/icons/favicon.png"/>
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="fonts/linearicons-v1.0.0/icon-font.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
        <!--===============================================================================================-->	
        <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
        <!--===============================================================================================-->	
        <link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/slick/slick.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/MagnificPopup/magnific-popup.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="css/util.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-Kw/8feRJfO4tH0x4R3RUEvoLWEmTLth7P/7bEjJJT11t3y3PTDjOX+eNcEJ+bo7ylEDyvq4pqRkX7g0H4QVc7A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="icon" type="image/png" href="images/icons/favicon.png"/>
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="fonts/linearicons-v1.0.0/icon-font.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">
        <!--===============================================================================================-->	
        <link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">
        <!--===============================================================================================-->	
        <link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/slick/slick.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/MagnificPopup/magnific-popup.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="vendor/perfect-scrollbar/perfect-scrollbar.css">
        <!--===============================================================================================-->
        <link rel="stylesheet" type="text/css" href="css/util.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-Kw/8feRJfO4tH0x4R3RUEvoLWEmTLth7P/7bEjJJT11t3y3PTDjOX+eNcEJ+bo7ylEDyvq4pqRkX7g0H4QVc7A==" crossorigin="anonymous" referrerpolicy="no-referrer" />



        <style>
            .filter {
                background-color: #f7f7f7;
                border: 1px solid #ccc;
                border-radius: 5px;
                padding: 20px;
                text-align: center;
                display: flex;
                justify-content: center;
                max-width: 600px;
                margin: 0 auto;
            }

            .filter form {
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .filter label {
                font-weight: bold;
            }

            .filter select {
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 5px;
                background-color: #fff;
            }

            .filter input[type="submit"] {
                background-color: #007BFF;
                color: #fff;
                border: none;
                border-radius: 5px;
                padding: 10px 20px;
                cursor: pointer;
            }

            .filter input[type="submit"]:hover {
                background-color: #0056b3;

            </style>
            <!--===============================================================================================-->
        </head>



        <style>
            /* Custom CSS */

            /* Table Styling */
            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 20px;
            }

            th,
            td {
                text-align: left;
                padding: 10px;
            }

            th {
                background-color: #f2f2f2;
            }



            /* Back to Homepage Button Styling */
            .back-to-homepage {
                display: flex;
                justify-content: center;
                margin-bottom: 3%;
            }

            .back-to-homepage a {
                padding: 10px 20px;
                background-color: #004085;
                color: white;
                border: none;
                border-radius: 10px;
                cursor: pointer;
                font-size: 16px;
                font-weight: bold;
                text-decoration: none;
            }

            .back-to-homepage a:hover {
                background-color: #003164;
            }

            .update-button {
                background-color: #4CAF50;
                border: none;
                color: white;
                padding: 10px 20px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
                font-size: 16px;
                margin: 4px 2px;
                cursor: pointer;
                border-radius: 5px;
            }

            /* Hover effect */
            .update-button:hover {
                background-color: #45a049;
            }

            /* End of Custom CSS */
        </style>
    </head>




    <body>

        <div>
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Phone</th>
                        <th>Address</th>
                        <th>Receive Date</th>
                        <th>Return Date</th>
                        <th>Total amount</th>
                        <th>Status</th>
                        <th>Detail</th>
                    </tr>
                </thead>
                <tbody>
                    <c:forEach items="${listR}" var="o">
                        <tr>
                            <td>${o.getName()}</td>
                            <td>${o.getPhone()}</td>
                            <td>${o.getAddress()}</td>
                            <td>${o.receivedDate}</td>
                            <td>${o.returnDate}</td>
                            <td>${o.getTotalAmount()}</td>
                            <td>
                                <form action="updatestatus">
                                    <input type="hidden" name="rqid" value="${o.getID()}">
                                    <select name="sttid">
                                        <c:forEach items="${listRs}" var="rs">
                                            <c:choose>
                                                <c:when test="${o.statusId == 1}">
                                                    <c:if test="${rs.id == 1 or rs.id == 2 or rs.id == 5}">
                                                        <option value="${rs.id}" <c:if test="${rs.id == o.statusId}">selected</c:if>>${rs.name}</option>
                                                    </c:if>
                                                </c:when>
                                                <c:when test="${o.statusId == 2}">
                                                    <c:if test="${rs.id == 2 or rs.id == 3}">
                                                        <option value="${rs.id}" <c:if test="${rs.id == o.statusId}">selected</c:if>>${rs.name}</option>
                                                    </c:if>
                                                </c:when>
                                                <c:when test="${o.statusId == 3}">
                                                    <c:if test="${rs.id == 3 or rs.id == 4}">
                                                        <option value="${rs.id}" <c:if test="${rs.id == o.statusId}">selected</c:if>>${rs.name}</option>
                                                    </c:if>
                                                </c:when>
                                                <c:when test="${o.statusId == 4}">
                                                    <c:if test="${rs.id == 4}">
                                                        <option value="${rs.id}" <c:if test="${rs.id == o.statusId}">selected</c:if>>${rs.name}</option>
                                                    </c:if>
                                                </c:when>
                                                <c:when test="${o.statusId == 5}">
                                                    <c:if test="${rs.id == 5 or rs.id == 6}">
                                                        <option value="${rs.id}" <c:if test="${rs.id == o.statusId}">selected</c:if>>${rs.name}</option>
                                                    </c:if>
                                                </c:when>
                                                <c:when test="${o.statusId == 6}">
                                                    <c:if test="${rs.id == 6 or rs.id == 2 or rs.id == 5}">
                                                        <option value="${rs.id}" <c:if test="${rs.id == o.statusId}">selected</c:if>>${rs.name}</option>
                                                    </c:if>
                                                </c:when>

                                            </c:choose>

                                        </c:forEach>

                                    </select>
                                    <c:if test="${o.statusId != 4}">
                                        <input type="submit" value="Update Status">
                                    </c:if>
                                </form>



                            </td>
                            <td>
                                <a href="requestdetail?rqid=${o.getID()}">
                                    <input type="submit" value="Detail">
                                </a>
                            </td>
                        </tr>
                    </c:forEach>
                </tbody>
            </table>
        </div>
        <div class="back-to-homepage">
            <a href="home">
                Back to Homepage
            </a>
        </div>


        <!-- Js Plugins -->
        <script src="js/jquery-3.3.1.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/jquery.nice-select.min.js"></script>
        <script src="js/jquery-ui.min.js"></script>
        <script src="js/jquery.slicknav.js"></script>
        <script src="js/mixitup.min.js"></script>
        <script src="js/owl.carousel.min.js"></script>
        <script src="js/main.js"></script>
        <script src="js/manager.js" type="text/javascript"></script>
    </body>

</html>
